<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <title>#1 Situs Jual Beli Skin Care, Make Up, Kosmetik Online - BeautyHaul</title>
    <meta name="description" content="Temukan produk Skin Care, Make Up &amp; Kosmetik Online Brand Lokal dan Internasional Terbaru dan Terlengkap. Diskon s/d 90% &amp; Gratis Ongkir di Beautyhaul." />
    <meta name="robots" content="noindex, nofollow" />    <link rel="shortcut icon" type="image/x-icon" href="https://www.beautyhaul.com/assets/BHI-favicon.ico" />

    <link rel="stylesheet" type="text/css" href="https://www.beautyhaul.com/assets/n/css/bootstrap.css?ak6">
    <link rel="stylesheet" type="text/css" href="https://www.beautyhaul.com/assets/n/css/jquery.jscrollpane.css">
    <link rel="stylesheet" type="text/css" href="https://www.beautyhaul.com/assets/n/css/main.css?ed74g1">
    <link rel="stylesheet" type="text/css" href="https://www.beautyhaul.com/assets/n/js/tipso/tipso.min.css">

    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-7F5RLR9NDQ"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-7F5RLR9NDQ');
        gtag('config', 'AW-674482669');
    </script>

	<script>
	(function(i,s,o,g,r,a,m,n){i.moengage_object=r;t={};q=function(f){return function(){(i.moengage_q=i.moengage_q||[]).push({f:f,a:arguments})}};f=['track_event','add_user_attribute','add_first_name','add_last_name','add_email','add_mobile','add_user_name','add_gender','add_birthday','destroy_session','add_unique_user_id','moe_events','call_web_push','track','location_type_attribute'],h={onsite:["getData","registerCallback"]};for(k
	in f){t[f[k]]=q(f[k])}for(k in h)for(l in h[k]){null==t[k]&&(t[k]={}),t[k][h[k][l]]=q(k+"."+h[k][l])}a=s.createElement(o);m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m);i.moe=i.moe||function(){n=arguments[0];return t};a.onload=function(){if(n){i[r]=moe(n)}}})(window,document,'script','https://cdn.moengage.com/webpush/moe_webSdk.min.latest.js','Moengage')

	Moengage = moe({
		app_id:"MF7YWRXF35CRIEX6XE0NVF4F",
		swPath: "/serviceworker.js",
		debug_logs: 0	});
	
		</script>
    
    <!-- Facebook Pixel Code -->
    <script>
      !function(f,b,e,v,n,t,s)
      {if(f.fbq)return;n=f.fbq=function(){n.callMethod?
      n.callMethod.apply(n,arguments):n.queue.push(arguments)};
      if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
      n.queue=[];t=b.createElement(e);t.async=!0;
      t.src=v;s=b.getElementsByTagName(e)[0];
      s.parentNode.insertBefore(t,s)}(window, document,'script',
      'https://connect.facebook.net/en_US/fbevents.js');
      fbq('init', '2957059141219193' );
    </script>
    <!-- Hotjar Tracking Code for beautyhaul.com -->
    <script>
        (function(h,o,t,j,a,r){
            h.hj=h.hj||function(){(h.hj.q=h.hj.q||[]).push(arguments)};
            h._hjSettings={hjid:2518915,hjsv:6};
            a=o.getElementsByTagName('head')[0];
            r=o.createElement('script');r.async=1;
            r.src=t+h._hjSettings.hjid+j+h._hjSettings.hjsv;
            a.appendChild(r);
        })(window,document,'https://static.hotjar.com/c/hotjar-','.js?sv=');
    </script>
</head>
<body class="page-checkout body-grey" base-url="https://www.beautyhaul.com/" site-url="https://www.beautyhaul.com/">

<!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-594DTXC" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->

<header>
    <div class="container">
        <div class="row justify-content-center align-items-center">
            <div class="col-lg-5">
                <div class="tx pl-0">
										<a href="javascript:void(0);" onclick="window.history.back();" class="link-back">Back</a>
					                </div>
            </div>
            <div class="col-d2 col-lg-7 col-xxl-5 header-img">
                <div class="logo"><a href="https://www.beautyhaul.com/"><img class="img-fluid" src="https://www.beautyhaul.com/assets/logo_beautyhaul.svg"></a></div>
                <div class="header-img-left"></div>
                <div class="header-img-right"></div>
            </div>
            <div class="col-d2 col-lg-5 text-right">
                <div class="tx wa">
                    <div class="h">Customer Service</div>
                    <div><a href="https://api.whatsapp.com/send?phone=6281310009066&text=Hi+Beauty+Haul+CS%2C+saya+ingin+menanyakan+tentang%3A" target="_blank">+62 813 1000 9066</a></div>
                </div>
                <div class="d-block d-lg-none txmobile">
                    <ul class="nav align-items-center justify-content-end">
                        <li class="mr-3"><img src="https://www.beautyhaul.com/assets/bpom3.svg"></li>
                        <li><img src="https://www.beautyhaul.com/assets/wa.svg"></li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</header>

<!-- <div class="page-content">
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-lg-15 col-xl-13 col-xxl-11">
                <h3 class="text-center">Shopping Cart</h3> -->
<style>
.ccheckbox.checkmark { width:30px }
.ccheckbox.checkmark > .css-label { height:20px }
.checkout-div .header .remove { position:absolute; top:0; right:0; font-size:12px; text-decoration:underline; text-transform:capitalize; letter-spacing:normal; cursor:pointer}
.checkout-div .header .remove:hover { color: #0762CB; }
.cart-brand .ccheckbox.checkmark { width:auto }
.cart-item .item { border-bottom-width:0; padding-top:20px; }
.cart-brand .item { border-top:1px solid #E1E1E1 }
</style>
<div class="content">
    <!--div class="checkout-process">
        <div class="container">
            <div class="row justify-content-center">
                <div class="col-xxl-15">
                    <ul class="nav justify-content-center align-items-end">
                        <li class="nav-item current">Checkout</li>
                        <li class="nav-item">Informasi dan Pengiriman</li>
                        <li class="nav-item">Pembayaran dan Jasa Antar</li>
                        <li class="nav-item">Konfirmasi</li>
                    </ul>
                </div>
            </div>
        </div>
    </div-->

    <div class="container">
        <form action="https://www.beautyhaul.com/cart" method="post" accept-charset="utf-8" onsubmit="formAjax(this, event);"><div style="display:none">
<input type="hidden" name="csrf_token" value="5fed1408bbd3b6825711f8ad7f343de4" />
</div>            <input type="hidden" id="c-id" name="cid" value="0">

            <div class="row justify-content-center">
                <div class="col-xl-10 col-xxl-9 cart-checkout">
                    <div class="checkout-div">
                        						
                        
                        
                                                <div class="text-center">
                            <img class="img-fluid mt-4 mb-3" src="https://www.beautyhaul.com/assets/n/css/images2/empty-cart2.svg">
                            <div class="text text-lg mb-3">An order must have at least one item. Your order is empty.</div>
                            <div><a class="btn btn-primary" href="https://www.beautyhaul.com/product">Shop Now</a></div>
                        </div>
                                            </div>
                    <!-- end cart -->
                </div>
                <div class="col-xl-6 col-xxl-5 order-xl-2 offset-xl-1">
					<div class="cart-summary checkout-right">
						<div class="checkout-div checkout-promo " style="margin-bottom:10px;">
							<div class="promotion-wrapper">
								<div class="promotion-item voucher" onclick="openPromo();">
									<div class="promotion-icon"></div>
									<div class="promotion-desc">
										<div class="promotion-title">Promo code</div>
										<div class="promotion-link">
											View all voucher brand & diskon ongkir										</div>
										<div class="promotion-dropdown"></div>
									</div>
								</div>
							</div>
						</div>
												<div class="checkout-div">
							<div class="header">Order Summary</div>
							<div class="checkout-item-price">
								<div class="row align-items-end subtotal">
									<div class="col-d2">Subtotal</div>
									<div class="col-d2 value"><span class="cart-subtotal">Rp 0</span></div>
								</div>
								<div class="row align-items-end giftcard" style="display: none;">
									<div class="col-d2">Giftcard</div>
									<div class="col-d2 cpinkk value">- </div>
								</div>
								<div class="row align-items-end discount">
									<div class="col-d2">Discount</div>
									<div class="col-d2 cpinkk value">- </div>
								</div>
																								<div class="row align-items-end point d-none">
									<div class="col-d2">Loyalty Points</div>
									<div class="col-d2 cpinkk value">- </div>
								</div>
															</div>
							<div class="checkout-item-total">
								<div class="row align-items-end">
									<div class="col-d2">Total</div>
									<div class="col-d2 value"><span class="cart-subtotal">Rp 0</span></div>
								</div>
							</div>
						</div>
						<div class="checkout-button">
							<div class="mb-2"><button type="submit" class="btn btn-block btn-primary btn-checkout" disabled >Checkout</button></div>
							<div><a class="btn btn-block btn-link" href="https://www.beautyhaul.com/product">Continue Shopping</a></div>
						</div>
					</div>
                </div>
            </div>
        </form>    </div>
</div>

<div class="oGift2 oGift2-promo">
	<div class="oGift2-w oGift2-main text-left">
		<div class="oGift2-wrapper">
			<form action="https://www.beautyhaul.com/cart/promo/1" method="post" accept-charset="utf-8" id="form-promo" onsubmit="promoAjax(this, event);"><div style="display:none">
<input type="hidden" name="csrf_token" value="5fed1408bbd3b6825711f8ad7f343de4" />
</div>			<div class="form-group mb-0">
				<div class="row">
					<div class="col-d2">
						<div class="promotion-header mb-3">PROMO CODE</div>
					</div>
					<div class="col-d2 text-right">
						<div class="oGift2-c" onclick="openPromo();"></div>
					</div>
				</div>
				<div class="form-group mb-0">
					<div class="form-line">
						<input type="text" class="form-control form-control-voucher" name="voucher" placeholder="Enter your promo code">
						<input type="hidden" name="remove" value="0">
						<button type="submit" class="btn btn-submit btn-submit-text">APPLY</button>
					</div>
				</div>
			</div>
			</form>			<div class="row voucher-used">
							</div>
														</div>
	</div>

	<div class="oGift2-w oGift2-desc text-left">
		<div class="oGift2-wrapper diff">
					</div>
	</div>
</div>

<form action="https://www.beautyhaul.com/cart/balance" method="post" accept-charset="utf-8" class="form-loyalty"><div style="display:none">
<input type="hidden" name="csrf_token" value="5fed1408bbd3b6825711f8ad7f343de4" />
</div><input type="hidden" name="balance" value="">
<button type="submit" class="d-none"></button>
</form>
<footer>
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-lg-d2 col-xxl-8">
                <ul class="nav justify-content-center justify-content-lg-start flex-column flex-md-row">
                    <li class="nav-item"><a href="https://www.beautyhaul.com/shipping-delivery-return-policy" target="_blank">Shipping, Return & Delivery Policy</a></li>
                    <li class="nav-item"><a href="https://www.beautyhaul.com/terms-conditions" target="_blank">Terms & Conditions</a></li>
                </ul>
            </div>
            <div class="col-lg-d2 col-xxl-7 text-center text-lg-right footer-copyright">Â©2023 PT BEAUTE HAUL INDONESIA</div>
        </div>
    </div>
</footer>

<script src="https://www.beautyhaul.com/assets/n/js/jquery-3.3.1.min.js"></script>
<script src="https://www.beautyhaul.com/assets/n/js/jquery.mousewheel.js"></script>
<script src="https://www.beautyhaul.com/assets/n/js/jquery.plugin.min.js"></script>
<script src="https://www.beautyhaul.com/assets/n/js/jquery.form.js"></script>
<script src="https://www.beautyhaul.com/assets/n/js/jquery.jscrollpane.min.js"></script>
<script src="https://www.beautyhaul.com/assets/n/js/jquery.countdown.min.js"></script>
<script src="https://www.beautyhaul.com/assets/n/js/tipso/tipso.min.js"></script>
<script src="https://www.beautyhaul.com/assets/n/js/main.js?ed66d7"></script>

<style>
.page-content > .container > .row > .col-xxl-10
{display:flex;flex-direction:column-reverse}
#cart-redeem button {
    margin-bottom:30px;cursor:pointer;
    width: 100%; padding-top: 100%;
    background: url(https://www.beautyhaul.com/assets/campaign/redeem2020-sq.jpg) no-repeat;
    background-size: contain;
    border: 0;
}
@media (min-width: 575.98px) {
    #cart-redeem button {padding-top:25.3%;background-image: url(https://www.beautyhaul.com/assets/campaign/redeem2020.jpg)}
}
</style>
<script type="text/javascript">
function showAll(el, type) {
	$('.promo-list-'+type+' .promotion-wrapper').toggleClass('active');

	if($('.promo-list-'+type+' .promotion-wrapper').hasClass('active')) {
		$(el).html('Show Less');
	} else {
		$(el).html('Show All');
	}
}
function uWishlist(el) {
    id = $(el).attr('data-id');
    url = 'https://www.beautyhaul.com/cart/wishlist/'+id;
    if (typeof wxhr !== 'undefined') {
        wxhr.abort();
    }
    wxhr = $.get(url, function (response) {
        if (response.redirect) {
            window.location.replace(response.redirect);
        }

		if (response.state) {
            if (response.count) {
                $('.cart-count').html(response.count);
                $('.cart-div .header .tx').html(response.count + ' Items In Cart');
            } else {
                $('.cart-count').html(0);
                $('.cart-div .header .tx').html('NO ITEMS');
            }

            if (response.realcount) {
                if (response.realcount >= 30)
                {
                    $('.reseller_bar').show();
                    $('.reseller_bar .title').html('<span class="cred">Congrats!</span> Reseller discount applied');
                    $('.reseller_bar .barcapsule-fill').css('width','100%');
                }
                else if (response.realcount > 10)
                {
                    $('.reseller_bar').show();
                    $('.reseller_bar .title').html('<span class="cred">' + (30-response.realcount) + ' more pcs</span> and get reseller discount');
                    $('.reseller_bar .barcapsule-fill').css('width', (response.realcount/30)*100 + '%');
                }
                else { $('.reseller_bar').hide(); }
            } else {
                $('.reseller_bar').hide();
            }

            if (response.cartchecked) {
				$('#ccartall').prop( "checked", true ).attr('data-href', 'https://www.beautyhaul.com/cart/select/0/all');
				$('.checkout-div .header.cart-brand .remove').show();
			}
			else {
				$('#ccartall').prop( "checked", false ).attr('data-href', 'https://www.beautyhaul.com/cart/select/1/all');
				$('.checkout-div .header.cart-brand .remove').hide();
			}

			if (response.discount) {
				$('.checkout-item-price .discount .value').html('- Rp '+pricex(response.discount));
			} else {
				$('.checkout-item-price .discount .value').html('-');
			}
			if (response.discountship) {
				if ($('.discountship').length)
				{
					$('.checkout-item-price .discountship .value').html('- Rp '+pricex(response.discountship));
				}
				else
				{
					$('.checkout-item-price').append('<div class="row align-items-end discountship"><div class="col-d2">Shipping Discount</div><div class="col-d2 cpinkk value">- Rp' + pricex(response.discountship) + '</div></div>');
				}
			} else {
				$('.checkout-item-price .discountship .value').html('-');
			}
			if (response.balance) {
				$('.checkout-item-price .point .value').html('- Rp '+pricex(response.balance_used));
			}
			if (response.giftcard) {
				$('.checkout-item-price .giftcard .value').html('- Rp '+pricex(response.giftcard));
				$('.checkout-item-price .giftcard').show();
			} else {
				$('.checkout-item-price .giftcard .value').html('-');
				$('.checkout-item-price .giftcard').hide();
			}
			if (response.v1 || response.v2 || response.gc) {
				voucher_count = 0;
				voucher_value = 0;
				if (response.v1) {
					voucher_count += 1;
					voucher_value += parseInt(response.discount);
				} else {
					$('.promo-list-1 .promotion-item').removeClass('active');
				}
				if (response.v2) {
					voucher_count += 1;
					voucher_value += parseInt(response.discountship);
					response.total = response.total - response.discountship;
				} else {
					$('.promo-list-2 .promotion-item').removeClass('active');
				}
				if (response.gc) {
					voucher_count += 1;
					voucher_value += parseInt(response.giftcard);
				}
				$('.checkout-promo').find('.promotion-title').html('You saved <span class="cred">Rp '+pricex(voucher_value)+'</span>');
				$('.checkout-promo').find('.promotion-link').html(pricex(voucher_count)+' promo codes applied');
			} else {
				$('.promo-list-1 .promotion-item').removeClass('active');
				$('.promo-list-2 .promotion-item').removeClass('active');
				if (response.promocount > 0) {
					$('.checkout-promo').find('.promotion-title').html(response.promocount+' Promo codes available');
				} else {
					$('.checkout-promo').find('.promotion-title').html('Promo code');
				}
				$('.checkout-promo').find('.promotion-link').html('View all voucher brand & diskon ongkir');
			}

            $('.cart-div .cart-item, .checkout-div .cart-item').remove();
            if (response.items) {
                $('.cart-div').removeClass('no-items');
                $('.cart-div .content > .wrapper, .checkout-div .checkout-list').append(response.items);
            } else {
                $('.cart-div').addClass('no-items');
            }
			if (response.realcount > 0) {
				$('button.btn-checkout').prop('disabled', false);
			} else {
				$('button.btn-checkout').prop('disabled', true);
			}

            $('.checkout-item-price .cart-subtotal').html('Rp '+pricex(response.subtotal));
            $('.cart-total, .checkout-item-total .cart-subtotal').html('Rp '+pricex(response.total));
			div_voucher = '';
			if (response.giftcard) {
				div_voucher += '<div class="col-auto voucher-used-item"><div class="btn-sm" onclick="removeVoucher(\'gc\', \''+response.gccode+'\');"><div class="voucher-used-icon"></div><div class="voucher-used-title">'+response.gccode+'</div></div></div>';
			}
			if (response.v1) {
				if (response.v1pub == 0) {
					div_voucher += '<div class="col-auto voucher-used-item"><div class="btn-sm" onclick="removeVoucher(\'vc\', \''+response.v1code+'\');"><div class="voucher-used-icon"></div><div class="voucher-used-title">'+response.v1code+'</div></div></div>';
					$('.promo-list-1 .promotion-item').removeClass('active');
				} else {
					$('.promo-list-1 .promotion-item[data-vcode="'+response.v1code+'"]').addClass('active');
				}
			}
			if (response.v2) {
				if (response.v2pub == 0) {
					div_voucher += '<div class="col-auto voucher-used-item"><div class="btn-sm" onclick="removeVoucher(\'vc\', \''+response.v2code+'\');"><div class="voucher-used-icon"></div><div class="voucher-used-title">'+response.v2code+'</div></div></div>';
					$('.promo-list-2 .promotion-item').removeClass('active');
				} else {
					$('.promo-list-2 .promotion-item[data-vcode="'+response.v2code+'"]').addClass('active');
				}
			}
        }
    }, 'json');
}
function countpromo() {
	price = 0;
	$('.promo-list .promotion-item.active').each(function(){
        price = price + $(this).data('vvalue') * 1;
    });
	$('.oGift2-promo .oGift2-bottom .price').html('Rp '+pricex(price));
}
function voucherApply(el) {
	vcid = $(el).attr('data-vcomb');
	if ( $(el).hasClass('active') )
	{
		$(el).removeClass('active');
	}
	else
	{
		$('.promo-list .promotion-item[data-vcomb*=' + vcid + ']').removeClass('active');
		$(el).addClass('active');
	}
	countpromo();
}
function openPromoDesc(el){
	id = $(el).attr('data-id');

	$('.fulldesc-'+id).toggleClass('open');
	$('.oGift2-main').toggleClass('open');
	$('.oGift2-desc').toggleClass('open');
}
function loyaltySubmit(el, e) {
	form = $('form.form-loyalty');
	if ($('input[name="checkbox_balance"]').is(':checked')) {
        balance = 1;
    } else {
        balance = 0;
    }
	form.find('input[name="balance"]').val(balance);
	$.post(form.attr('action'), form.serialize(), function (response) {
        if (response.state) {
			if (response.discount) {
				$('.checkout-item-price .discount .value').html('- Rp '+pricex(response.discount));
				$('.checkout-item-total .cart-subtotal').html('Rp '+pricex(response.total));
			} else {
				$('.checkout-item-price .discount .value').html('-');
				$('.checkout-item-total .cart-subtotal').html('Rp '+pricex(response.total));
			}
			if (response.balance) {
				$('.checkout-item-price .point .value').html('- Rp '+pricex(response.balance_used));
				$('.checkout-item-total .cart-subtotal').html('Rp '+pricex(response.total));
			} else {
				$('.checkout-item-price .point .value').html('-');
				$('.checkout-item-total .cart-subtotal').html('Rp '+pricex(response.total));
			}
			if (response.discountship) {
				response.total = response.total - response.discountship;
				$('.checkout-item-total .cart-subtotal').html('Rp '+pricex(response.total));
			}
            if (response.balance_disabled) {
                $('input[name="checkbox_balance"]').prop('disabled', true);
                $('input[name="checkbox_balance"]').prop('checked', false);
                $('.checkout-loyalty').addClass('disabled');
                $('.checkout-loyalty').append(response.balance_error);
            } else {
                $('input[name="checkbox_balance"]').prop('disabled', false);
                $('.checkout-loyalty').removeClass('disabled');
                $('.balance-error').remove();
            }
		}
    }, 'json');
}
function removeVoucher(type, code) {
	form = $('#form-promo');
	form.find('input[name="remove"]').val(1);
	$.post(form.attr('action')+'/'+type+'/'+code, form.serialize(), function (response) {
		form.find('input, textarea, select').removeClass('is-invalid');
		form.find('.invalid-feedback').remove();
        if (response.state) {
			if (response.discount) {
				$('.checkout-item-price .discount .value').html('- Rp '+pricex(response.discount));
			} else {
				$('.checkout-item-price .discount .value').html('-');
			}
			if (response.balance) {
				$('.checkout-item-price .point .value').html('- Rp '+pricex(response.balance_used));
			} else {
				$('.checkout-item-price .point .value').html('-');
			}
			if (response.shipping) {
				$('.checkout-item-price .ship .value').html('- Rp '+pricex(response.shipping));
			} else {
				$('.checkout-item-price .ship .value').html('-');
			}
			if (response.discountship) {
				if ($('.discountship').length)
				{
					$('.checkout-item-price .discountship .value').html('- Rp '+pricex(response.discountship));
				}
				else
				{
					$('.checkout-item-price').append('<div class="row align-items-end discountship"><div class="col-d2">Shipping Discount</div><div class="col-d2 cpinkk value">- Rp' + pricex(response.discountship) + '</div></div>');
				}
			} else {
				$('.checkout-item-price .discountship .value').html('-');
			}
			if (response.giftcard) {
				$('.checkout-item-price .giftcard .value').html('- Rp '+pricex(response.giftcard));
				$('.checkout-item-price .giftcard').show();
			} else {
				$('.checkout-item-price .giftcard .value').html('-');
				$('.checkout-item-price .giftcard').hide();
			}
			if (response.v1 || response.v2 || response.gc) {
				voucher_count = 0;
				voucher_value = 0;
				if (response.v1) {
					voucher_count += 1;
					voucher_value += parseInt(response.discount);
				} else {
					$('.promo-list-1 .promotion-item').removeClass('active');
				}
				if (response.v2) {
					voucher_count += 1;
					voucher_value += parseInt(response.discountship);
					response.total = response.total - response.discountship;
				} else {
					$('.promo-list-2 .promotion-item').removeClass('active');
				}
				if (response.gc) {
					voucher_count += 1;
					voucher_value += parseInt(response.giftcard);
				}
				$('.checkout-promo').find('.promotion-title').html('You saved <span class="cred">Rp '+pricex(voucher_value)+'</span>');
				$('.checkout-promo').find('.promotion-link').html(pricex(voucher_count)+' promo codes applied');
				$('.oGift2-promo .oGift2-bottom .price').html('Rp '+pricex(voucher_value));
			} else {
				$('.promo-list-1 .promotion-item').removeClass('active');
				$('.promo-list-2 .promotion-item').removeClass('active');
				if (response.promocount > 0) {
					$('.checkout-promo').find('.promotion-title').html(response.promocount+' Promo codes available');
				} else {
					$('.checkout-promo').find('.promotion-title').html('Promo code');
				}
				$('.checkout-promo').find('.promotion-link').html('View all voucher brand & diskon ongkir');
			}
			$('.checkout-item-total .cart-subtotal').html('Rp '+pricex(response.total));
			if (response.type == 'apply') {
				form.find('input[name="voucher"]').val('');
			} else if (response.type == 'remove') {
				form.find('input[name="remove"]').val(0);
				form.find('input[name="voucher"]').val('');
			}
			div_voucher = '';
			if (response.giftcard) {
				div_voucher += '<div class="col-auto voucher-used-item"><div class="btn-sm" onclick="removeVoucher(\'gc\', \''+response.gccode+'\');"><div class="voucher-used-icon"></div><div class="voucher-used-title">'+response.gccode+'</div></div></div>';
			}
			$('.promo-list-1 .voucher-used-item').remove();
			$('.promo-list-2 .voucher-used-item').remove();
			if (response.v1) {
				div_voucherused = '';
				if (response.v1pub == 0) {
					//div_voucher += '<div class="col-auto voucher-used-item"><div class="btn-sm" onclick="removeVoucher(\'vc\', \''+response.v1code+'\');"><div class="voucher-used-icon"></div><div class="voucher-used-title">'+response.v1code+'</div></div></div>';
					div_voucherused += '<div class="promotion-item voucher voucher-used-item active" data-vvalue="'+response.discount+'" data-vcode="'+response.v1code+'" data-vcomb="1" onclick="voucherApply(this);"><div class="promotion-icon"></div><div class="promotion-desc"><div class="promotion-title mb-1">'+response.v1code+'</div><div class="promotion-check"></div></div></div>';
					$('.promo-list-1 .promotion-item').removeClass('active');
					$('.promo-list-1 .promotion-wrapper').prepend(div_voucherused);
				} else {
					$('.promo-list-1 .promotion-item[data-vcode="'+response.v1code+'"]').addClass('active');
				}
			}
			if (response.v2) {
				div_voucherused = '';
				if (response.v2pub == 0) {
					//div_voucher += '<div class="col-auto voucher-used-item"><div class="btn-sm" onclick="removeVoucher(\'vc\', \''+response.v2code+'\');"><div class="voucher-used-icon"></div><div class="voucher-used-title">'+response.v2code+'</div></div></div>';
					div_voucherused += '<div class="promotion-item freeship voucher-used-item active" data-vvalue="'+response.discountship+'" data-vcode="'+response.v2code+'" data-vcomb="2" onclick="voucherApply(this);"><div class="promotion-icon"></div><div class="promotion-desc"><div class="promotion-title mb-1">'+response.v2code+'</div><div class="promotion-check"></div></div></div>';
					$('.promo-list-2 .promotion-item').removeClass('active');
					$('.promo-list-2 .promotion-wrapper').prepend(div_voucherused);
				} else {
					$('.promo-list-2 .promotion-item[data-vcode="'+response.v2code+'"]').addClass('active');
				}
			}
			$('.voucher-used').html(div_voucher);
			//openPromo();
		}
    }, 'json');
}
function promoAjax(el, e) {
	e.preventDefault();
	form = $(el);
	form.find('input[name="remove"]').val(0);
	$.post(form.attr('action'), form.serialize(), function (response) {
		form.find('input, textarea, select').removeClass('is-invalid');
		form.find('.invalid-feedback').remove();
        if (response.state) {
			if (response.discount) {
				$('.checkout-item-price .discount .value').html('- Rp '+pricex(response.discount));
			} else {
				$('.checkout-item-price .discount .value').html('-');
			}
			if (response.balance) {
				$('.checkout-item-price .point .value').html('- Rp '+pricex(response.balance_used));
			} else {
				$('.checkout-item-price .point .value').html('-');
			}
			if (response.shipping) {
				$('.checkout-item-price .ship .value').html('- Rp '+pricex(response.shipping));
			} else {
				$('.checkout-item-price .ship .value').html('-');
			}
			if (response.discountship) {
				if ($('.discountship').length)
				{
					$('.checkout-item-price .discountship .value').html('- Rp '+pricex(response.discountship));
				}
				else
				{
					$('.checkout-item-price').append('<div class="row align-items-end discountship"><div class="col-d2">Shipping Discount</div><div class="col-d2 cpinkk value">- Rp' + pricex(response.discountship) + '</div></div>');
				}
			} else {
				$('.checkout-item-price .discountship .value').html('-');
			}
			if (response.giftcard) {
				$('.checkout-item-price .giftcard .value').html('- Rp '+pricex(response.giftcard));
				$('.checkout-item-price .giftcard').show();
			} else {
				$('.checkout-item-price .giftcard .value').html('-');
				$('.checkout-item-price .giftcard').hide();
			}
            if (response.balance_disabled) {
                $('input[name="checkbox_balance"]').prop('disabled', true);
                $('input[name="checkbox_balance"]').prop('checked', false);
                $('.checkout-loyalty').addClass('disabled');
                $('.checkout-loyalty').append(response.balance_error);
            } else {
                $('input[name="checkbox_balance"]').prop('disabled', false);
                $('.checkout-loyalty').removeClass('disabled');
                $('.balance-error').remove();
            }
            $('.checkout-item-price .cart-subtotal').html('Rp '+pricex(response.subtotal));
            $('.cart-total, .checkout-item-total .cart-subtotal').html('Rp '+pricex(response.total));
			if (response.v1 || response.v2 || response.gc) {
				voucher_count = 0;
				voucher_value = 0;
				if (response.v1) {
					voucher_count += 1;
					voucher_value += parseInt(response.discount);
				} else {
					$('.promo-list-1 .promotion-item').removeClass('active');
				}
				if (response.v2) {
					voucher_count += 1;
					voucher_value += parseInt(response.discountship);
					response.total = response.total - response.discountship;
				} else {
					$('.promo-list-2 .promotion-item').removeClass('active');
				}
				if (response.gc) {
					voucher_count += 1;
					voucher_value += parseInt(response.giftcard);
				}
				$('.checkout-promo').find('.promotion-title').html('You saved <span class="cred">Rp '+pricex(voucher_value)+'</span>');
				$('.checkout-promo').find('.promotion-link').html(pricex(voucher_count)+' promo codes applied');
				$('.oGift2-promo .oGift2-bottom .price').html('Rp '+pricex(voucher_value));
			} else {
				$('.promo-list-1 .promotion-item').removeClass('active');
				$('.promo-list-2 .promotion-item').removeClass('active');
				if (response.promocount > 0) {
					$('.checkout-promo').find('.promotion-title').html(response.promocount+' Promo codes available');
				} else {
					$('.checkout-promo').find('.promotion-title').html('Promo code');
				}
				$('.checkout-promo').find('.promotion-link').html('View all voucher brand & diskon ongkir');
			}
			$('.checkout-item-total .cart-subtotal').html('Rp '+pricex(response.total));
			/* if (response.type == 'apply') {
				$(el).find('input[name="remove"]').val(1);
				$(el).find('input[name="voucher"]').prop('disabled', true);
				$(el).find('button').removeClass('btn-submit-text').addClass('btn-remove').html('');
			} else if (response.type == 'remove') {
				$(el).find('input[name="remove"]').val(0);
				$(el).find('input[name="voucher"]').val('');
				$(el).find('input[name="voucher"]').prop('disabled', false);
				$(el).find('button').removeClass('btn-remove').addClass('btn-submit-text').html('APPLY');
			} */
			if (response.type == 'apply') {
				$(el).find('input[name="voucher"]').val('');
			} else if (response.type == 'remove') {
				$(el).find('input[name="voucher"]').val('');
			}
			div_voucher = '';
			if (response.giftcard) {
				div_voucher += '<div class="col-auto voucher-used-item"><div class="btn-sm" onclick="removeVoucher(\'gc\', \''+response.gccode+'\');"><div class="voucher-used-icon"></div><div class="voucher-used-title">'+response.gccode+'</div></div></div>';
			}
			$('.promo-list-1 .voucher-used-item').remove();
			$('.promo-list-2 .voucher-used-item').remove();
			if (response.v1) {
				div_voucherused = '';
				if ($('.promo-list.promo-list-1').length) {
					if (response.v1pub == 0) {
						//div_voucher += '<div class="col-auto voucher-used-item"><div class="btn-sm" onclick="removeVoucher(\'vc\', \''+response.v1code+'\');"><div class="voucher-used-icon"></div><div class="voucher-used-title">'+response.v1code+'</div></div></div>';
						div_voucherused += '<div class="promotion-item voucher voucher-used-item active" data-vvalue="'+response.discount+'" data-vcode="'+response.v1code+'" data-vcomb="1" onclick="voucherApply(this);"><div class="promotion-icon"></div><div class="promotion-desc"><div class="promotion-title mb-1">'+response.v1code+'</div><div class="promotion-check"></div></div></div>';
						$('.promo-list-1 .promotion-item').removeClass('active');
						$('.promo-list-1 .promotion-wrapper').prepend(div_voucherused);
					} else {
						$('.promo-list-1 .promotion-item').removeClass('active');
						$('.promo-list-1 .promotion-item[data-vcode="'+response.v1code+'"]').addClass('active');
					}
					if (!$('.promo-head-1 .promo-show-1').length) {
						if ($('.promo-list-1 .promotion-item').length > 3) {
							$('.promo-head-1 .promo-list-1-err').before('<div class="col-d2 text-right promo-show-1"><a href="javascript:void(0);" onclick="showAll(this,1);" class="oGift2-link">Show all</a></div>');
						}
					}
				} else {
					div_voucherused += '<div class="oGift2-head promo-head-1 form-group mt-3"><div class="row"><div class="col-d2">All Promo</div><div class="col-17 promo-list-1-err"></div></div></div><div class="oGift2-list promo-list promo-list-1"><div class="promotion-wrapper"></div></div>';
					$('.voucher-used').after(div_voucherused);
					if (response.v1pub == 0) {
						//div_voucher += '<div class="col-auto voucher-used-item"><div class="btn-sm" onclick="removeVoucher(\'vc\', \''+response.v1code+'\');"><div class="voucher-used-icon"></div><div class="voucher-used-title">'+response.v1code+'</div></div></div>';
						div_voucherused = '<div class="promotion-item voucher voucher-used-item active" data-vvalue="'+response.discount+'" data-vcode="'+response.v1code+'" data-vcomb="1" onclick="voucherApply(this);"><div class="promotion-icon"></div><div class="promotion-desc"><div class="promotion-title mb-1">'+response.v1code+'</div><div class="promotion-check"></div></div></div>';
						$('.promo-list-1 .promotion-item').removeClass('active');
						$('.promo-list-1 .promotion-wrapper').prepend(div_voucherused);
					} else {
						$('.promo-list-1 .promotion-item').removeClass('active');
						$('.promo-list-1 .promotion-item[data-vcode="'+response.v1code+'"]').addClass('active');
					}
				}
			}
			if (response.v2) {
				div_voucherused = '';
				if ($('.promo-list.promo-list-2').length) {
					if (response.v2pub == 0) {
						//div_voucher += '<div class="col-auto voucher-used-item"><div class="btn-sm" onclick="removeVoucher(\'vc\', \''+response.v2code+'\');"><div class="voucher-used-icon"></div><div class="voucher-used-title">'+response.v2code+'</div></div></div>';
						div_voucherused += '<div class="promotion-item freeship voucher-used-item active" data-vvalue="'+response.discountship+'" data-vcode="'+response.v2code+'" data-vcomb="2" onclick="voucherApply(this);"><div class="promotion-icon"></div><div class="promotion-desc"><div class="promotion-title mb-1">'+response.v2code+'</div><div class="promotion-check"></div></div></div>';
						$('.promo-list-2 .promotion-item').removeClass('active');
						$('.promo-list-2 .promotion-wrapper').prepend(div_voucherused);
					} else {
						$('.promo-list-2 .promotion-item').removeClass('active');
						$('.promo-list-2 .promotion-item[data-vcode="'+response.v2code+'"]').addClass('active');
					}
					if (!$('.promo-head-2 .promo-show-2').length) {
						if ($('.promo-list-2 .promotion-item').length > 3) {
							$('.promo-head-2 .promo-list-2-err').before('<div class="col-d2 text-right promo-show-2"><a href="javascript:void(0);" onclick="showAll(this,2);" class="oGift2-link">Show all</a></div>');
						}
					}
				} else {
					div_voucherused += '<div class="oGift2-head promo-head-2 form-group mt-3"><div class="row"><div class="col-d2">Shipping Code</div><div class="col-17 promo-list-2-err"></div></div></div><div class="oGift2-list promo-list promo-list-2"><div class="promotion-wrapper"></div></div>';
					if ($('.promo-list.promo-list-1').length) {
						$('.promo-list.promo-list-1').after(div_voucherused);
					} else {
						$('.voucher-used').after(div_voucherused);
					}
					if (response.v2pub == 0) {
						//div_voucher += '<div class="col-auto voucher-used-item"><div class="btn-sm" onclick="removeVoucher(\'vc\', \''+response.v2code+'\');"><div class="voucher-used-icon"></div><div class="voucher-used-title">'+response.v2code+'</div></div></div>';
						div_voucherused = '<div class="promotion-item voucher voucher-used-item active" data-vvalue="'+response.discountship+'" data-vcode="'+response.v2code+'" data-vcomb="2" onclick="voucherApply(this);"><div class="promotion-icon"></div><div class="promotion-desc"><div class="promotion-title mb-1">'+response.v2code+'</div><div class="promotion-check"></div></div></div>';
						$('.promo-list-2 .promotion-item').removeClass('active');
						$('.promo-list-2 .promotion-wrapper').prepend(div_voucherused);
					} else {
						$('.promo-list-2 .promotion-item').removeClass('active');
						$('.promo-list-2 .promotion-item[data-vcode="'+response.v2code+'"]').addClass('active');
					}
				}
			}
			$('.voucher-used').html(div_voucher);
			//openPromo();

			$('.cart-div .cart-item, .checkout-div .cart-item').remove();
            if (response.items) {
                $('.cart-div').removeClass('no-items');
                $('.cart-div .content > .wrapper, .checkout-div .checkout-list').append(response.items);
            } else {
                $('.cart-div').addClass('no-items');
            }
		} else {
			if (response.error) {
				$.each(response.error, function (i, val) {
					target = form.find('.form-control-' + val.field);
					if (i == 0) {
						target.focus();
					}
					if (target.is('select')) {
						target.closest('.select').addClass('is-invalid');
					} else {
						target.addClass('is-invalid');
					}
					target.closest('.form-group').append('<em class="error invalid-feedback">' + val.message + '</em>');
				});
			}
		}
    }, 'json');
}
function applypromo(el, e) {
	e.preventDefault();
	form = $(el);
	q = '';
	$('.promo-list .promotion-item.active').each(function(){
        q = q + ';' + $(this).data('vcode');
    });
	finalcode = q?q.replace(/^;/, ''):'1';
	$('#form-promo-2 input[name="vcode"]').val(finalcode);

	$.post($('#form-promo-2').attr('action'), $('#form-promo-2').serialize(), function (response) {
		form.find('input, textarea, select').removeClass('is-invalid');
		form.find('.invalid-feedback').remove();
		$('.promo-list-1-err').html('');
		$('.promo-list-2-err').html('');
        if (response.state) {
			if (response.discount) {
				$('.checkout-item-price .discount .value').html('- Rp '+pricex(response.discount));
			} else {
				$('.checkout-item-price .discount .value').html('-');
			}
			if (response.balance) {
				$('.checkout-item-price .point .value').html('- Rp '+pricex(response.balance_used));
			} else {
				$('.checkout-item-price .point .value').html('-');
			}
			if (response.shipping) {
				$('.checkout-item-price .ship .value').html('- Rp '+pricex(response.shipping));
			} else {
				$('.checkout-item-price .ship .value').html('-');
			}
			if (response.discountship) {
				if ($('.discountship').length)
				{
					$('.checkout-item-price .discountship .value').html('- Rp '+pricex(response.discountship));
				}
				else
				{
					$('.checkout-item-price').append('<div class="row align-items-end discountship"><div class="col-d2">Shipping Discount</div><div class="col-d2 cpinkk value">- Rp ' + pricex(response.discountship) + '</div></div>');
				}
			} else {
				$('.checkout-item-price .discountship .value').html('-');
			}
            if (response.balance_disabled) {
                $('input[name="checkbox_balance"]').prop('disabled', true);
                $('input[name="checkbox_balance"]').prop('checked', false);
                $('.checkout-loyalty').addClass('disabled');
                $('.checkout-loyalty').append(response.balance_error);
            } else {
                $('input[name="checkbox_balance"]').prop('disabled', false);
                $('.checkout-loyalty').removeClass('disabled');
                $('.balance-error').remove();
            }
			if (response.giftcard) {
				$('.checkout-item-price .giftcard .value').html('- Rp '+pricex(response.giftcard));
				$('.checkout-item-price .giftcard').show();
			} else {
				$('.checkout-item-price .giftcard .value').html('-');
				$('.checkout-item-price .giftcard').hide();
			}
            $('.checkout-item-price .cart-subtotal').html('Rp '+pricex(response.subtotal));
            $('.cart-total, .checkout-item-total .cart-subtotal').html('Rp '+pricex(response.total));
			if (response.v1 || response.v2 || response.gc) {
				voucher_count = 0;
				voucher_value = 0;
				if (response.v1) {
					voucher_count += 1;
					voucher_value += parseInt(response.discount);
				} else {
					$('.promo-list-1 .promotion-item').removeClass('active');
				}
				if (response.v2) {
					voucher_count += 1;
					voucher_value += parseInt(response.discountship);
					response.total = response.total - response.discountship;
				} else {
					$('.promo-list-2 .promotion-item').removeClass('active');
				}
				if (response.gc) {
					voucher_count += 1;
					voucher_value += parseInt(response.giftcard);
				}
				$('.checkout-promo').find('.promotion-title').html('You saved <span class="cred">Rp '+pricex(voucher_value)+'</span>');
				$('.checkout-promo').find('.promotion-link').html(pricex(voucher_count)+' promo codes applied');
				$('.oGift2-promo .oGift2-bottom .price').html('Rp '+pricex(voucher_value));
			} else {
				$('.promo-list-1 .promotion-item').removeClass('active');
				$('.promo-list-2 .promotion-item').removeClass('active');
				if (response.promocount > 0) {
					$('.checkout-promo').find('.promotion-title').html(response.promocount+' Promo codes available');
				} else {
					$('.checkout-promo').find('.promotion-title').html('Promo code');
				}
				$('.checkout-promo').find('.promotion-link').html('View all voucher brand & diskon ongkir');
			}
			$('.checkout-item-total .cart-subtotal').html('Rp '+pricex(response.total));

			if (response.type == 'apply') {
				$(el).find('input[name="voucher"]').val('');
			} else if (response.type == 'remove') {
				$(el).find('input[name="voucher"]').val('');
			}
			div_voucher = '';
			if (response.giftcard) {
				div_voucher += '<div class="col-auto voucher-used-item"><div class="btn-sm" onclick="removeVoucher(\'gc\', \''+response.gccode+'\');"><div class="voucher-used-icon"></div><div class="voucher-used-title">'+response.gccode+'</div></div></div>';
			}
			$('.promo-list-1 .voucher-used-item').remove();
			$('.promo-list-2 .voucher-used-item').remove();
			if (response.v1) {
				div_voucherused = '';
				if (response.v1pub == 0) {
					//div_voucher += '<div class="col-auto voucher-used-item"><div class="btn-sm" onclick="removeVoucher(\'vc\', \''+response.v1code+'\');"><div class="voucher-used-icon"></div><div class="voucher-used-title">'+response.v1code+'</div></div></div>';
					div_voucherused += '<div class="promotion-item voucher voucher-used-item active" data-vvalue="'+response.discount+'" data-vcode="'+response.v1code+'" data-vcomb="1" onclick="voucherApply(this);"><div class="promotion-icon"></div><div class="promotion-desc"><div class="promotion-title mb-1">'+response.v1code+'</div><div class="promotion-check"></div></div></div>';
					$('.promo-list-1 .promotion-item').removeClass('active');
					$('.promo-list-1 .promotion-wrapper').prepend(div_voucherused);
				} else {
					$('.promo-list-1 .promotion-item[data-vcode="'+response.v1code+'"]').addClass('active');
				}
				if ($('.promo-head-1 .promo-show-1').length) {
					if (!$('.promo-list-1 .promotion-item').length > 3) {
						$('.promo-show-1').remove();
					}
				}
			} else {
				if (!$('.promo-list.promo-list-1 .promotion-item').length) {
					$('.promo-head-1').remove();
					$('.promo-list-1').remove();
				}
			}
			if (response.v2) {
				div_voucherused = '';
				if (response.v2pub == 0) {
					//div_voucher += '<div class="col-auto voucher-used-item"><div class="btn-sm" onclick="removeVoucher(\'vc\', \''+response.v2code+'\');"><div class="voucher-used-icon"></div><div class="voucher-used-title">'+response.v2code+'</div></div></div>';
					div_voucherused += '<div class="promotion-item freeship voucher-used-item active" data-vvalue="'+response.discountship+'" data-vcode="'+response.v2code+'" data-vcomb="2" onclick="voucherApply(this);"><div class="promotion-icon"></div><div class="promotion-desc"><div class="promotion-title mb-1">'+response.v2code+'</div><div class="promotion-check"></div></div></div>';
					$('.promo-list-2 .promotion-item').removeClass('active');
					$('.promo-list-2 .promotion-wrapper').prepend(div_voucherused);
				} else {
					$('.promo-list-2 .promotion-item[data-vcode="'+response.v2code+'"]').addClass('active');
				}
				if ($('.promo-head-2 .promo-show-2').length) {
					if (!$('.promo-list-2 .promotion-item').length > 3) {
						$('.promo-show-2').remove();
					}
				}
			} else {
				if (!$('.promo-list.promo-list-2 .promotion-item').length) {
					$('.promo-head-2').remove();
					$('.promo-list-2').remove();
				}
			}
			$('.voucher-used').html(div_voucher);
			openPromo();

			$('.cart-div .cart-item, .checkout-div .cart-item').remove();
            if (response.items) {
                $('.cart-div').removeClass('no-items');
                $('.cart-div .content > .wrapper, .checkout-div .checkout-list').append(response.items);
            } else {
                $('.cart-div').addClass('no-items');
            }
		} else {
			if (response.error) {
				$.each(response.error, function (i, val) {
					/* target = form.find('.form-control-' + val.field);
					if (i == 0) {
						target.focus();
					}
					if (target.is('select')) {
						target.closest('.select').addClass('is-invalid');
					} else {
						target.addClass('is-invalid');
					}
					target.closest('.form-group').append('<em class="error invalid-feedback">' + val.message + '</em>'); */
					$('.promo-list-'+val.combo+'-err').append('<em class="error invalid-feedback">' + val.message + '</em>');
				});
			}
		}
    }, 'json');
}
function selectCart(el, type) {
    url = $(el).attr('data-href');
    $.get(url, function (response) {
        if (response.state) {
            if (response.count) {
                $('.cart-count').html(response.count);
                $('.cart-div .header .tx').html(response.count + ' Items In Cart');
            } else {
                $('.cart-count').html(0);
                $('.cart-div .header .tx').html('NO ITEMS');
            }

            if (response.realcount) {
                if (response.realcount >= 30)
                {
                    $('.reseller_bar').show();
                    $('.reseller_bar .title').html('<span class="cred">Congrats!</span> Reseller discount applied');
                    $('.reseller_bar .barcapsule-fill').css('width','100%');
                }
                else if (response.realcount > 10)
                {
                    $('.reseller_bar').show();
                    $('.reseller_bar .title').html('<span class="cred">' + (30-response.realcount) + ' more pcs</span> and get reseller discount');
                    $('.reseller_bar .barcapsule-fill').css('width', (response.realcount/30)*100 + '%');
                }
                else { $('.reseller_bar').hide(); }
            } else {
                $('.reseller_bar').hide();
            }

            if (response.cartchecked) {
				$('#ccartall').prop( "checked", true ).attr('data-href', 'https://www.beautyhaul.com/cart/select/0/all');
				$('.checkout-div .header.cart-brand .remove').show();
			}
			else {
				$('#ccartall').prop( "checked", false ).attr('data-href', 'https://www.beautyhaul.com/cart/select/1/all');
				$('.checkout-div .header.cart-brand .remove').hide();
			}

			if (response.discount) {
				$('.checkout-item-price .discount .value').html('- Rp '+pricex(response.discount));
			} else {
				$('.checkout-item-price .discount .value').html('-');
			}
			if (response.discountship) {
				if ($('.discountship').length)
				{
					$('.checkout-item-price .discountship .value').html('- Rp '+pricex(response.discountship));
				}
				else
				{
					$('.checkout-item-price').append('<div class="row align-items-end discountship"><div class="col-d2">Shipping Discount</div><div class="col-d2 cpinkk value">- Rp' + pricex(response.discountship) + '</div></div>');
				}
			} else {
				$('.checkout-item-price .discountship .value').html('-');
			}
			if (response.balance) {
				$('.checkout-item-price .point .value').html('- Rp '+pricex(response.balance_used));
			}
			if (response.giftcard) {
				$('.checkout-item-price .giftcard .value').html('- Rp '+pricex(response.giftcard));
				$('.checkout-item-price .giftcard').show();
			} else {
				$('.checkout-item-price .giftcard .value').html('-');
				$('.checkout-item-price .giftcard').hide();
			}
			if (response.v1 || response.v2 || response.gc) {
				voucher_count = 0;
				voucher_value = 0;
				if (response.v1) {
					voucher_count += 1;
					voucher_value += parseInt(response.discount);
				} else {
					$('.promo-list-1 .promotion-item').removeClass('active');
				}
				if (response.v2) {
					voucher_count += 1;
					voucher_value += parseInt(response.discountship);
				} else {
					$('.promo-list-2 .promotion-item').removeClass('active');
				}
				if (response.gc) {
					voucher_count += 1;
					voucher_value += parseInt(response.giftcard);
				}
				$('.checkout-promo').find('.promotion-title').html('You saved <span class="cred">Rp '+pricex(voucher_value)+'</span>');
				$('.checkout-promo').find('.promotion-link').html(pricex(voucher_count)+' promo codes applied');
				$('.oGift2-promo .oGift2-bottom .price').html('Rp '+pricex(voucher_value));
			} else {
				$('.promo-list-1 .promotion-item').removeClass('active');
				$('.promo-list-2 .promotion-item').removeClass('active');
				if (response.promocount > 0) {
					$('.checkout-promo').find('.promotion-title').html(response.promocount+' Promo codes available');
				} else {
					$('.checkout-promo').find('.promotion-title').html('Promo code');
				}
				$('.checkout-promo').find('.promotion-link').html('View all voucher brand & diskon ongkir');
			}

            $('.cart-div .cart-item, .checkout-div .cart-item').remove();
            if (response.items) {
                $('.cart-div').removeClass('no-items');
                $('.cart-div .content > .wrapper, .checkout-div .checkout-list').append(response.items);
            } else {
                $('.cart-div').addClass('no-items');
            }
			if (response.realcount > 0) {
				$('button.btn-checkout').prop('disabled', false);
			} else {
				$('button.btn-checkout').prop('disabled', true);
			}

            $('.checkout-item-price .cart-subtotal').html('Rp '+pricex(response.subtotal));
            $('.cart-total, .checkout-item-total .cart-subtotal').html('Rp '+pricex(response.total));
			div_voucher = '';
			if (response.giftcard) {
				div_voucher += '<div class="col-auto voucher-used-item"><div class="btn-sm" onclick="removeVoucher(\'gc\', \''+response.gccode+'\');"><div class="voucher-used-icon"></div><div class="voucher-used-title">'+response.gccode+'</div></div></div>';
			}
			$('.promo-list-1 .voucher-used-item').remove();
			$('.promo-list-2 .voucher-used-item').remove();
			if (response.v1) {
				$('.promo-list-1 .voucher-used-item').remove();
				div_voucherused = '';
				if (response.v1pub == 0) {
					//div_voucher += '<div class="col-auto voucher-used-item"><div class="btn-sm" onclick="removeVoucher(\'vc\', \''+response.v1code+'\');"><div class="voucher-used-icon"></div><div class="voucher-used-title">'+response.v1code+'</div></div></div>';
					div_voucherused += '<div class="promotion-item voucher voucher-used-item active" data-vvalue="'+response.discount+'" data-vcode="'+response.v1code+'" data-vcomb="1" onclick="voucherApply(this);"><div class="promotion-icon"></div><div class="promotion-desc"><div class="promotion-title mb-1">'+response.v1code+'</div><div class="promotion-check"></div></div></div>';
					$('.promo-list-1 .promotion-item').removeClass('active');
					$('.promo-list-1 .promotion-wrapper').prepend(div_voucherused);
				} else {
					$('.promo-list-1 .promotion-item[data-vcode="'+response.v1code+'"]').addClass('active');
				}
				if ($('.promo-head-1 .promo-show-1').length) {
					if (!$('.promo-list-1 .promotion-item').length > 3) {
						$('.promo-show-1').remove();
					}
				}
			} else {
				if (!$('.promo-list.promo-list-1 .promotion-item').length) {
					$('.promo-head-1').remove();
					$('.promo-list-1').remove();
				}
			}
			if (response.v2) {
				$('.promo-list-2 .voucher-used-item').remove();
				div_voucherused = '';
				if (response.v2pub == 0) {
					//div_voucher += '<div class="col-auto voucher-used-item"><div class="btn-sm" onclick="removeVoucher(\'vc\', \''+response.v2code+'\');"><div class="voucher-used-icon"></div><div class="voucher-used-title">'+response.v2code+'</div></div></div>';
					div_voucherused += '<div class="promotion-item freeship voucher-used-item active" data-vvalue="'+response.discountship+'" data-vcode="'+response.v2code+'" data-vcomb="2" onclick="voucherApply(this);"><div class="promotion-icon"></div><div class="promotion-desc"><div class="promotion-title mb-1">'+response.v2code+'</div><div class="promotion-check"></div></div></div>';
					$('.promo-list-2 .promotion-item').removeClass('active');
					$('.promo-list-2 .promotion-wrapper').prepend(div_voucherused);
				} else {
					$('.promo-list-2 .promotion-item[data-vcode="'+response.v2code+'"]').addClass('active');
				}
				if ($('.promo-head-2 .promo-show-2').length) {
					if (!$('.promo-list-2 .promotion-item').length > 3) {
						$('.promo-show-2').remove();
					}
				}
			} else {
				if (!$('.promo-list.promo-list-2 .promotion-item').length) {
					$('.promo-head-2').remove();
					$('.promo-list-2').remove();
				}
			}
        }
    }, 'json');
}
function calcCart(el) {
    el = $(el);

    maxQty = el.attr('max-qty');
    if (parseInt(text) > parseInt(maxQty)) {
        el.val(maxQty);
    }

    total = 0;
    $('select[name="quantity[]"]').each(function () {
        quantity = parseInt($(this).val());
        price = parseInt($(this).attr('data-price'));
        more = parseInt($(this).attr('data-more'));

        s = parseInt(quantity * price)
        if (quantity > 1 && more > 0) {
            bs = s;
            s -= (price - more);
            $(this).closest('.cart-item').find('.product-price').html(pricex(s) + '<br><i style="text-decoration: line-through; color: red;">Rp ' + pricex(bs) + '</i>');
        } else {
            $(this).closest('.cart-item').find('.product-price').html(pricex(s));
        }

        if (quantity == 1 && more > 0) {
            $(this).closest('.cart-item').find('.is-more').show();
        } else {
            $(this).closest('.cart-item').find('.is-more').hide();
        }

        total += s;
    });

    $('.cart-subtotal').html(pricex(total));

    // BADGE REDEEM - validasi min purchase
    if (total<150000)
        $('#cart-redeem').hide();
    else
        $('#cart-redeem').show();
}

$(function () {
    fs = $('.is-fs');
    if (fs.length) {
        fs.each(function () {
            $(this).countdown({
                until: new Date($(this).attr('data-fs').replace(/-/g, '/')),
                format: 'DHMS',
                padZeroes: true,
                compact: true,
                layout: '{d<}<span class="fscount-{dn}">{dn}D{d>}:</span>{h<}{hn}h{h>}:{m<}{mnn}m{m>}:{s<}{snn}s{s>}'
            });
        });
    }
});

fbq('track', 'InitiateCheckout',
{
}, {eventID: '650bb61ccd3324.62706822' });
</script>

</body>
</html>
